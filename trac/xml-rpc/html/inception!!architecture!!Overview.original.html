<html><body><h1 id="Tobiarchitectureoverviewdraftpluginframework">Tobi architecture overview draft (plugin framework)</h1>
<h2 id="Features">Features</h2>
<h3 id="CoreFunctionality">Core Functionality</h3>
<ul><li>Runtime loading of executable code
</li><li>Allow several versions of the same library to co-exist
</li><li>Runtime discovery/selection of plugins - service repository
</li><li>Exception handling (intercept propagation of exceptions from plugins)
</li><li>Security - ensure that the plugins can not currupt the data model, file system, application state ect.
</li><li>Plugin dependencies (dependency graph/resulotion of cyclic dependencies/version specific demendencies)
</li><li>Online updates/discovery/download/installation
</li></ul><h3 id="DeploymentMethods">Deployment Methods</h3>
<ul><li>Install/uninstall/upgrade/downgrade of plugins
</li><li>Online deployment/upgrading 
</li><li>Organization specific configuration (deployment server)
</li><li>No requirement for a push architecture, but there is a requirement for the application instances to query the deployment servers for required upgrades/new plugins at startup and possibly at regular intervals.
</li><li>Installation history - list of configurations, the ability to roll-back/revert to previous configuration.
</li><li>Possibly a separate Update Manager application handling updates and configurations.
</li><li>Running Tobi in safe-mode?
</li></ul><h2 id="Terminology">Terminology</h2>
<p>
Objective: To disambiguate the terms
</p>
<ul><li>AddIn (Microsoft)
</li><li>AddOn (Firefox)
</li><li>Plugin (Firefox, Eclipse)
</li><li>Extension (Firefox)
</li><li>Bundle (OSGi, TextMate)
</li><li>Feature (Eclipse)
</li></ul><h2 id="References">References</h2>
<p>
Mono.AddIn:
</p>
<p>
<a class="ext-link" href="http://www.mono-project.com/Mono.Addins"><span class="icon">http://www.mono-project.com/Mono.Addins</span></a>
</p>
<p>
<a class="ext-link" href="http://www.mono-project.com/Mono.Addins_Reference_Manual"><span class="icon">http://www.mono-project.com/Mono.Addins_Reference_Manual</span></a>
</p>
<p>
<a class="ext-link" href="http://www.mono-project.com/Introduction_to_Mono.Addins"><span class="icon">http://www.mono-project.com/Introduction_to_Mono.Addins</span></a>
</p>
<p>
System.AddIn:
</p>
<p>
<a class="ext-link" href="http://msdn.microsoft.com/en-us/library/bb384200.aspx"><span class="icon">http://msdn.microsoft.com/en-us/library/bb384200.aspx</span></a>
</p>
<p>
<a class="ext-link" href="http://www.codeplex.com/clraddins"><span class="icon">http://www.codeplex.com/clraddins</span></a>
</p>
<p>
<a class="ext-link" href="http://blogs.msdn.com/clraddins/"><span class="icon">http://blogs.msdn.com/clraddins/</span></a>
</p>
<p>
<a class="ext-link" href="http://sachabarber.net/?p=239"><span class="icon">http://sachabarber.net/?p=239</span></a>
</p>
<p>
<a class="ext-link" href="http://blogs.msdn.com/wpfsdk/archive/2008/04/25/databinding-and-add-ins.aspx"><span class="icon">http://blogs.msdn.com/wpfsdk/archive/2008/04/25/databinding-and-add-ins.aspx</span></a>
</p>
<p>
WPF Composite Application Guidelines and Library:
</p>
<p>
<a class="ext-link" href="http://msdn.microsoft.com/en-us/library/cc707819.aspx"><span class="icon">http://msdn.microsoft.com/en-us/library/cc707819.aspx</span></a>
</p>
<p>
MEF (Managed Extensibility Framework):
</p>
<p>
<a class="ext-link" href="http://www.codeplex.com/MEF"><span class="icon">http://www.codeplex.com/MEF</span></a>
</p>
<p>
Application Architecture Guidance:
</p>
<p>
<a class="ext-link" href="http://www.codeplex.com/AppArch"><span class="icon">http://www.codeplex.com/AppArch</span></a>
</p>
<p>
"Java Module System" (aka JSR 277):
</p>
<p>
<a class="ext-link" href="http://jcp.org/en/jsr/detail?id=277"><span class="icon">http://jcp.org/en/jsr/detail?id=277</span></a>
<a class="ext-link" href="http://www.osgi.org/blog/2006/10/jsr-277-review.html"><span class="icon">http://www.osgi.org/blog/2006/10/jsr-277-review.html</span></a>
</p>
<p>
JSR 291 "Dynamic Component Support for Java SE":
</p>
<p>
<a class="ext-link" href="http://jcp.org/en/jsr/detail?id=291"><span class="icon">http://jcp.org/en/jsr/detail?id=291</span></a>
</p>
<p>
Netbeans "Lookup":
</p>
<p>
API (client code):
<a class="ext-link" href="http://bits.netbeans.org/dev/javadoc/org-openide-util/org/openide/util/lookup/doc-files/lookup-api.html"><span class="icon">http://bits.netbeans.org/dev/javadoc/org-openide-util/org/openide/util/lookup/doc-files/lookup-api.html</span></a>
</p>
<p>
SPI (deployment code):
<a class="ext-link" href="http://bits.netbeans.org/dev/javadoc/org-openide-util/org/openide/util/lookup/doc-files/lookup-spi.html"><span class="icon">http://bits.netbeans.org/dev/javadoc/org-openide-util/org/openide/util/lookup/doc-files/lookup-spi.html</span></a>
</p>
<p>
Homepage:
<a class="ext-link" href="http://openide.netbeans.org/lookup/"><span class="icon">http://openide.netbeans.org/lookup/</span></a>
</p>
<p>
Java 6 "ServiceLoader":
</p>
<p>
<a class="ext-link" href="http://java.sun.com/javase/6/docs/api/java/util/ServiceLoader.html"><span class="icon">http://java.sun.com/javase/6/docs/api/java/util/ServiceLoader.html</span></a>
</p>
<p>
Summary:
</p>
<p>
<a class="ext-link" href="http://java.sun.com/developer/technicalArticles/javase/extensible/index.html"><span class="icon">http://java.sun.com/developer/technicalArticles/javase/extensible/index.html</span></a> 
</p>
<p>
OSGi vs Google's Android:
</p>
<p>
<a class="ext-link" href="http://www.adon-line.de/kunden/prosystBlog/?p=18"><span class="icon">http://www.adon-line.de/kunden/prosystBlog/?p=18</span></a>
</p>
<p>
Example of app that ships with a rich API for third-party customizations:
</p>
<p>
<a class="ext-link" href="http://docs.syntext.com/sapi_guide/sg.html"><span class="icon">http://docs.syntext.com/sapi_guide/sg.html</span></a>
</p>
<p>
C# frameworks for Inversion Of Control and Dependency Injection:
</p>
<p>
<a class="ext-link" href="http://castleproject.org/container/gettingstarted/index.html"><span class="icon">http://castleproject.org/container/gettingstarted/index.html</span></a>
</p>
<p>
<a class="ext-link" href="http://structuremap.sourceforge.net/Concepts.htm"><span class="icon">http://structuremap.sourceforge.net/Concepts.htm</span></a>
</p>
<p>
OASIS SCA (Service Component Architecture):
</p>
<p>
<a class="ext-link" href="http://www.oasis-opencsa.org/sca"><span class="icon">http://www.oasis-opencsa.org/sca</span></a>
</p>
</body></html>